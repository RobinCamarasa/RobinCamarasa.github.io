<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel=stylesheet><link rel="shortcut icon" type=image/x-icon href=/me_small.svg><link rel=stylesheet href=/css/style.css><title>RobinCamarasa | Generating ASCII-art</title></head><body><nav class=responsive-navbar><input type=checkbox id=hamburger-menu class=hamburger-menu>
<label for=hamburger-menu id=hamburger-label class=hamburger-label><i data-feather=menu></i></label><div><div><a href=/><i data-feather=at-sign></i>RobinCamarasa</a></div><div class=foldable><a href=/experience/><i data-feather=briefcase></i>
Experience</a></div><div class=foldable><a href=/posts/><i data-feather=pen-tool></i>
Posts</a></div><div class=foldable><a href=/tags/><i data-feather=tag></i>
Tags</a></div></div></nav><div id=content><main aria-role=main><div class=blog-header><div><h2>Generating ASCII-art</h2><p>Author: <a href=http://robincamarasa.github.io/>RobinCamarasa</a></p><p><a href=https://en.wikipedia.org/wiki/The_Little_Prince>The little Prince:</a> "If you please, draw me a sheep!"<br>Computer: "1100111010"<br><a href=https://en.wikipedia.org/wiki/The_Little_Prince>The little Prince:</a> "That is exactly what I wanted!"</p><div><ul style=padding-left:0;font-size:15px><li class=invisible><a href=https://github.com/RobinCamarasa/RobinCamarasa.github.io/issues><i data-feather=message-circle></i> Want to interact on the subject? Browse the issues or open one</a></li><li class=invisible><a href=https://github.com/RobinCamarasa/RobinCamarasa.github.io/edit/master/content/posts/ascii-art.md><i data-feather=edit></i> You spotted a blunder? Open a pull request</a></li></ul></div><p class=meta><time datetime=2023-08-19>2023</time>
<a href=http://robincamarasa.github.io/tags/cli><button>cli</button></a>
<a href=http://robincamarasa.github.io/tags/python><button>python</button></a>
<a href=http://robincamarasa.github.io/tags/ascii><button>ascii</button></a></p></div><div><img src=/ascii-art.png></div></div><p>This post is mostly an excuse for me to &ldquo;document&rdquo; the code that generates the thumbnails of this website, (and also to remember how I did it).
Without further ado, let&rsquo;s dive into it.</p><h2 id=requirements>Requirements</h2><p><img src=/ascii-art-picture.png alt></p><p>I want a simple program that transforms a image into it&rsquo;s ASCII art equivalent:</p><ul><li>The program should be short</li><li>The program should be easy to modify</li><li>The program should accept the different popular imaging formats (PNG, JPG, JPEG&mldr;)</li><li>The program should produce light images (below 200kB)</li><li>I should be able interact with the program through a command line interface (CLI)</li></ul><p>Now, I know what I need let&rsquo;s go for it :)</p><h2 id=ascii-art-in-a-nutshell>Ascii art in a nutshell</h2><p><img src=/ascii-art-explanation.png alt></p><p>The idea of ASCII art, is rather simple:</p><ul><li>Take a list of ASCII characters, and rank them from the less filled to the most filled as follow " &ldquo;, &ldquo;.&rdquo;, &ldquo;,&rdquo;, &ldquo;:&rdquo;, &ldquo;i&rdquo;, &ldquo;l&rdquo;, &ldquo;w&rdquo;, &ldquo;W&rdquo;</li><li>Divide your image in chunks of equal size</li><li>Average the Red / Green / Blue values within a chunck to get the grey value of the chunck</li><li>Replace the chunck with the corresponding character in the list</li></ul><p>Simple idea but as we will see in the next section there are some subtility to take into account.</p><h2 id=implementation>Implementation</h2><p>I will not detail entirely the <a href=https://github.com/RobinCamarasa/RobinCamarasa.github.io/blob/master/ascii_art.py>python script</a> because both you and I have better things to do. I will just highlight the few points that deserve attention.</p><h3 id=requirements-1>Requirements</h3><p>I tried to keep the requirements list rather short and simple:</p><ul><li><a href=https://docs.python.org/3/library/argparse.html>argparse</a> to handle the command line interface</li><li><a href=https://numpy.org/>numpy</a> for simple array manipulations</li><li><a href=https://matplotlib.org/>matplotlib</a> for the plotting</li><li><a href=https://scikit-image.org/>scikit-image</a> for basic image transforms</li></ul><h3 id=rescaling-the-image>Rescaling the image</h3><p>In the second point <em>(divide your image in chunks of equal size)</em> the size of the of the chunck matters and should match the shape of a letter bounding box.
In my case, I figured that chunks twice higher than wide could do the job just fine.
To make the ASCII art less sensible to the resolution of the input image, I made sure the that the ASCII art would have exactly 160 characters per line and chose the number of line that conserved the original image shape.</p><p>The is summed is python as the following snippet of code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>x, y <span style=color:#f92672>=</span> (
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>160</span>,
</span></span><span style=display:flex><span>    grey_scale_image<span style=color:#f92672>.</span>shape[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> <span style=color:#ae81ff>80</span> <span style=color:#f92672>/</span> grey_scale_image<span style=color:#f92672>.</span>shape[<span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>down_sampled_grey_scale_image: np<span style=color:#f92672>.</span>ndarray <span style=color:#f92672>=</span> resize(
</span></span><span style=display:flex><span>    grey_scale_image,
</span></span><span style=display:flex><span>    (x, y),
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><p><em>Side note: Writing those line I realize that could have checked the actual bounding box size of the font I used, instead of guessing it&rsquo;s ratio but well it works :)</em></p><h3 id=choice-of-the-font>Choice of the font</h3><p>Unfortunately, you cannot any font you want to generate ASCII art.
It is important that the bounding box of all characters of the font you chose have the same size.
In typography, this property is called <strong>monospace</strong>.
I leave below a list of some famous monospaced fonts and as you can see some big hits cannot be used (Times New Roman, Arial&mldr;).
In my case, for convenience, I use <em>Ubuntu mono</em> but really any would do.</p><ul><li><strong>monospace:</strong> Courier/Courier New Consolas, Monaco, Lucida Console, Inconsolata, Ubuntu mono&mldr;</li><li><strong>non-monospace:</strong> Times New Roman, Arial, Helvetica, Verdana, Georgia, Palatino&mldr;</li></ul></main></div><footer><p>Copyright Â© 2023 RobinCamarasa</p><nav><div><a href=mailto:robin.camarasa@pm.me><i data-feather=mail></i>
Mail</a></div><div><a href=https://gitlab.com/RobinCamarasa><i data-feather=gitlab></i>
Gitlab</a></div><div><a href=https://github.com/RobinCamarasa><i data-feather=github></i>
Github</a></div><div><a href=https://www.linkedin.com/in/robin-camarasa-893726158><i data-feather=linkedin></i>
Linked In</a></div><div><a href=/posts/index.xml><i data-feather=rss></i>
RSS</a></div></nav></footer><script src=https://unpkg.com/feather-icons></script>
<script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script>
<script>feather.replace()</script></body></html>